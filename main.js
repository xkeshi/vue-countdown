!function(){"use strict";!function(){var t=Vue,e={class:"app"},n={class:"navbar navbar-light navbar-expand-md"},o={class:"container"},s={class:"navbar-brand",href:"./"},a=(0,t.createVNode)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse","aria-controls":"navbar-collapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t.createVNode)("span",{class:"navbar-toggler-icon"})],-1),d=(0,t.createVNode)("div",{id:"navbar-collapse",class:"collapse navbar-collapse justify-content-end",role:"navigation"},[(0,t.createVNode)("nav",{class:"nav navbar-nav"},[(0,t.createVNode)("a",{class:"nav-link",href:"https://github.com/fengyuanchen/vue-countdown",title:"View the GitHub project"}," GitHub "),(0,t.createVNode)("a",{class:"nav-link",href:"https://fengyuanchen.github.io/",title:"Explore more projects"}," Explore "),(0,t.createVNode)("a",{class:"nav-link",href:"https://chenfengyuan.com/",title:"About the author"}," About ")])],-1),i={class:"bg-primary text-white py-5"},c={class:"container"},r={class:"row"},l={class:"col-md"},u={class:"h6"},h={class:"lead"},m={class:"col-md"},p={ref:"carbonads",class:"carbonads"},v={class:"container"},f={class:"markdown-body"},b=(0,t.createStaticVNode)('<footer><div class="container"><p class="heart"></p><nav class="nav flex-wrap justify-content-center mb-3"><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown"> GitHub </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/CHANGELOG.md"> Changelog </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/LICENSE"> License </a><a class="nav-link" href="https://chenfengyuan.com/"> About </a></nav></div></footer>',1),g=JSON.parse('{"name":"@chenfengyuan/vue-countdown","version":"2.0.0-rc","description":"Countdown component for Vue 3.","main":"dist/vue-countdown.js","module":"dist/vue-countdown.esm.js","types":"types/index.d.ts","files":["dist","types"],"scripts":{"build":"rollup -c --environment BUILD:production","build:docs":"webpack --env production","changelog":"conventional-changelog -p angular -i CHANGELOG.md -s -r 0","clean":"del-cli dist","lint":"npm run lint:js && npm run lint:css","lint:css":"stylelint **/*.{css,scss,html,vue,md} --fix","lint:js":"eslint . --ext .js,.ts,.vue --fix","prepare":"husky install","release":"npm run clean && npm run lint && npm run build && npm run build:docs && npm test && npm run changelog","serve":"webpack serve --hot --open","start":"npm run serve","test":"jest","test:coverage":"cat coverage/lcov.info | codecov"},"repository":{"type":"git","url":"https://github.com/fengyuanchen/vue-countdown.git"},"keywords":["countdown","vue","vue3","vue-component","front-end","web"],"author":"Chen Fengyuan (https://chenfengyuan.com/)","license":"MIT","bugs":"https://github.com/fengyuanchen/vue-countdown/issues","homepage":"https://fengyuanchen.github.io/vue-countdown","devDependencies":{"@babel/core":"^7.14.5","@babel/preset-env":"^7.14.5","@commitlint/cli":"^12.1.4","@commitlint/config-conventional":"^12.1.4","@types/jest":"^26.0.23","@typescript-eslint/eslint-plugin":"^4.26.1","@typescript-eslint/parser":"^4.26.1","@vue/compiler-sfc":"^3.1.1","@vue/test-utils":"^2.0.0-rc.6","babel-jest":"^26.6.3","babel-loader":"^8.2.2","change-case":"^4.1.2","codecov":"^3.8.2","conventional-changelog-cli":"^2.1.1","create-banner":"^2.0.0","css-loader":"^5.2.6","del-cli":"^3.0.1","eslint":"^7.28.0","eslint-config-airbnb-typescript":"^12.3.1","eslint-plugin-import":"^2.23.4","eslint-plugin-vue":"^7.11.0","html-webpack-plugin":"^5.3.1","husky":"^6.0.0","jest":"^26.6.3","lint-staged":"^11.0.0","markdown-to-vue-loader":"^3.1.0","mini-css-extract-plugin":"^1.6.0","postcss":"^8.3.2","rollup":"^2.51.2","rollup-plugin-postcss":"^4.0.0","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript2":"^0.30.0","rollup-plugin-vue":"^6.0.0","sass":"^1.34.1","sass-loader":"^12.1.0","style-loader":"^2.0.0","stylelint":"^13.13.1","stylelint-config-recommended-scss":"^4.2.0","stylelint-config-standard":"^22.0.0","stylelint-order":"^4.1.0","stylelint-scss":"^3.19.0","ts-jest":"^26.5.1","ts-loader":"^9.2.3","tslib":"^2.3.0","typescript":"^4.3.2","vue":"^3.1.1","vue-jest":"^5.0.0-alpha.10","vue-loader":"^16.1.1","webpack":"^5.38.1","webpack-cli":"^4.7.2","webpack-dev-server":"^3.11.2"},"peerDependencies":{"vue":"^3.0.0"},"publishConfig":{"access":"public","tag":"next"},"browserslist":["last 2 versions","> 1%","not dead"],"commitlint":{"extends":["@commitlint/config-conventional"]},"lint-staged":{"*.{js,ts,vue}":["eslint --fix","git add"],"*.{css,scss,html,vue,md}":["stylelint --fix","git add"]}}'),y={class:"component-readme"},w=(0,t.createVNode)("h1",null,"Countdown",-1),N=(0,t.createVNode)("blockquote",null,[(0,t.createVNode)("p",null,"Countdown with optional controls.")],-1),V=(0,t.createVNode)("h2",null,"Basic usage",-1),C=(0,t.createVNode)("pre",null,[(0,t.createVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n')],-1),M=(0,t.createVNode)("h2",null,"Custom interval",-1),S=(0,t.createVNode)("pre",null,[(0,t.createVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  data() {\n    const now = new Date();\n    const newYear = new Date(now.getFullYear() + 1, 0, 1);\n\n    return {\n      time: newYear - now,\n    };\n  },\n};\n<\/script>\n')],-1),k=(0,t.createVNode)("h2",null,"Transform slot props",-1),j=(0,t.createVNode)("pre",null,[(0,t.createVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  methods: {\n    transformSlotProps(props) {\n      const formattedProps = {};\n\n      Object.entries(props).forEach(([key, value]) => {\n        formattedProps[key] = value < 10 ? `0${value}` : String(value);\n      });\n\n      return formattedProps;\n    },\n  },\n};\n<\/script>\n')],-1),q=(0,t.createVNode)("h2",null,"Countdown on demand",-1),x=(0,t.createStaticVNode)('<pre><code class="language-html">&lt;template&gt;\n  &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; :disabled=&quot;counting&quot; @click=&quot;startCountdown&quot;&gt;\n    &lt;vue-countdown v-if=&quot;counting&quot; :time=&quot;60000&quot; @end=&quot;onCountdownEnd&quot; v-slot=&quot;{ totalSeconds }&quot;&gt;Fetch again {{ totalSeconds }} seconds later&lt;/vue-countdown&gt;\n    &lt;span v-else&gt;Fetch Verification Code&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      counting: false,\n    };\n  },\n  methods: {\n    startCountdown: function () {\n      this.counting = true;\n    },\n    onCountdownEnd: function () {\n      this.counting = false;\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre><h2>Props</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>auto-start</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if starts the countdown automatically when initialized or not.</td></tr><tr><td>emit-events</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if emits the countdown events or not.</td></tr><tr><td>interval</td><td><code>number</code></td><td><code>1000</code></td><td>-</td><td>The interval time (in milliseconds) of the countdown progress. The value should not be less than <code>0</code>.</td></tr><tr><td>now</td><td><code>Function</code></td><td><code>() =&gt; Date.now()</code></td><td>-</td><td>Generates the current time (in milliseconds) in a specific time zone.</td></tr><tr><td>tag</td><td><code>string</code></td><td><code>&quot;span&quot;</code></td><td>-</td><td>The tag name of the component’s root element.</td></tr><tr><td>time</td><td><code>number</code></td><td><code>0</code></td><td>-</td><td>The time (in milliseconds) to count down from.</td></tr><tr><td>transform</td><td><code>Function</code></td><td><code>(slotProps) =&gt; slotProps</code></td><td>-</td><td>Transforms the output slot props before render. The <code>slotProps</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr></tbody></table></div><h2>Methods</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Starts the countdown. Run automatically when the <code>auto-start</code> prop is set to <code>true</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Aborts the countdown immediately.</td></tr><tr><td>end</td><td><code>()</code></td><td>Ends the countdown manually.</td></tr></tbody></table></div><h2>Events</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Fires immediately when the countdown starts.</td></tr><tr><td>progress</td><td><code>(data)</code></td><td>Fires continually when the countdown is in progress. The <code>data</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Fired when the countdown has aborted.</td></tr><tr><td>end</td><td><code>()</code></td><td>Fired when the countdown has ended.</td></tr></tbody></table></div><blockquote><p>Native events that bubble up from child elements are also available.</p></blockquote><p><strong>Note:</strong> You can set the <code>emit-events</code> property to <code>false</code> to disable these events for better performance.</p>',9);function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var T,F={components:{"component-readme-0":(T={},"function"==typeof T&&(T=T()),"object"!==E(T)&&(T={}),Object.assign(T,{name:"component-readme-0",template:'<div class="component-readme-0">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})),"component-readme-1":function(){var t={data:function(){var t=new Date;return{time:new Date(t.getFullYear()+1,0,1)-t}}};return"function"==typeof t&&(t=t()),"object"!==E(t)&&(t={}),Object.assign(t,{name:"component-readme-1",template:'<div class="component-readme-1">\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-2":function(){var t={methods:{transformSlotProps:function(t){var e={};return Object.entries(t).forEach((function(t){var n,o,s=(o=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var o,s,a=[],d=!0,i=!1;try{for(n=n.call(t);!(d=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);d=!0);}catch(t){i=!0,s=t}finally{try{d||null==n.return||n.return()}finally{if(i)throw s}}return a}}(n,o)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],d=s[1];e[a]=d<10?"0".concat(d):String(d)})),e}}};return"function"==typeof t&&(t=t()),"object"!==E(t)&&(t={}),Object.assign(t,{name:"component-readme-2",template:'<div class="component-readme-2">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-3":function(){var t={data:function(){return{counting:!1}},methods:{startCountdown:function(){this.counting=!0},onCountdownEnd:function(){this.counting=!1}}};return"function"==typeof t&&(t=t()),"object"!==E(t)&&(t={}),Object.assign(t,{name:"component-readme-3",template:'<div class="component-readme-3">\n  <button type="button" class="btn btn-primary" :disabled="counting" @click="startCountdown">\n    <vue-countdown v-if="counting" :time="60000" @end="onCountdownEnd" v-slot="{ totalSeconds }">Fetch again {{ totalSeconds }} seconds later</vue-countdown>\n    <span v-else>Fetch Verification Code</span>\n  </button>\n</div>'})}()},render:function(e,n,o,s,a,d){var i=(0,t.resolveComponent)("component-readme-0"),c=(0,t.resolveComponent)("demo-block"),r=(0,t.resolveComponent)("component-readme-1"),l=(0,t.resolveComponent)("component-readme-2"),u=(0,t.resolveComponent)("component-readme-3");return(0,t.openBlock)(),(0,t.createBlock)("div",y,[w,N,V,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(i)]})),_:1}),C,M,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(r)]})),_:1}),S,k,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(l)]})),_:1}),j,q,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((function(){return[(0,t.createVNode)(u)]})),_:1}),x])}},A=F;g.name=g.name.split("/").pop()||"";var I=(0,t.defineComponent)({components:{Readme:A},data:()=>g,mounted(){const t=document.createElement("script");t.async=!0,t.id="_carbonads_js",t.src="//cdn.carbonads.com/carbon.js?serve=CKYI55Q7&placement=fengyuanchengithubio",this.$refs.carbonads.appendChild(t)}});I.render=function(g,y,w,N,V,C){var M=(0,t.resolveComponent)("Readme");return(0,t.openBlock)(),(0,t.createBlock)("div",e,[(0,t.createVNode)("header",n,[(0,t.createVNode)("nav",o,[(0,t.createVNode)("a",s,(0,t.toDisplayString)(g.name),1),a,d])]),(0,t.createVNode)("main",null,[(0,t.createVNode)("div",i,[(0,t.createVNode)("div",c,[(0,t.createVNode)("div",r,[(0,t.createVNode)("div",l,[(0,t.createVNode)("h1",null,[(0,t.createTextVNode)((0,t.toDisplayString)(g.name)+" ",1),(0,t.createVNode)("small",u," v"+(0,t.toDisplayString)(g.version),1)]),(0,t.createVNode)("p",h,(0,t.toDisplayString)(g.description),1)]),(0,t.createVNode)("div",m,[(0,t.createVNode)("div",p,null,512)])])])]),(0,t.createVNode)("div",v,[(0,t.createVNode)("div",f,[(0,t.createVNode)(M)])])]),b])};var P=I,H={class:"demo-block"},O=(0,t.defineComponent)({name:"DemoBlock"});O.render=function(e,n,o,s,a,d){return(0,t.openBlock)(),(0,t.createBlock)("div",H,[(0,t.renderSlot)(e.$slots,"default")])};var B=O;const $=1e3,G=6e4,Y=36e5,L=864e5,R="abort",_="progress",U="start",z="visibilitychange";var J=(0,t.defineComponent)({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[R,"end",_,U],data:()=>({counting:!1,endTime:0,totalMilliseconds:0,requestId:0}),computed:{days(){return Math.floor(this.totalMilliseconds/L)},hours(){return Math.floor(this.totalMilliseconds%L/Y)},minutes(){return Math.floor(this.totalMilliseconds%Y/G)},seconds(){return Math.floor(this.totalMilliseconds%G/$)},milliseconds(){return Math.floor(this.totalMilliseconds%$)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/Y)},totalMinutes(){return Math.floor(this.totalMilliseconds/G)},totalSeconds(){return Math.floor(this.totalMilliseconds/$)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(z,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(z,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.emitEvents&&this.$emit(U),"visible"===document.visibilityState&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const o=s=>{e||(e=s),n||(n=s);const a=s-e;a>=t||a+(s-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(o),n=s};this.requestId=requestAnimationFrame(o)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.totalMilliseconds-=this.interval,this.emitEvents&&this.totalMilliseconds>0&&this.$emit(_,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(R))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit("end"))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause()}}},render(){return(0,t.h)(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const K=(0,t.createApp)(P);K.component(J.name,J),K.component(B.name,B),K.mount("#app")}()}();